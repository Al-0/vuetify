import { getRange } from '../VPagination'

import { describe, expect, it } from '@jest/globals'

describe('VPagination', () => {
  it.each([
    [1, 1, 1, [1]],
    [1, 2, 1, [1]],
    [1, 3, 1, [1]],
    [1, 3, 2, [1]],
    [1, 4, 3, [1]],
    [1, 3, 3, [1, 2, 3]],
    [1, 4, 4, [1, 2, 3, 4]],
    // 4, 3
    [1, 4, 3, [1, '...', 4]],
    [2, 4, 3, [1, 2, '...']],
    [3, 4, 3, ['...', 3, 4]],
    // 5, 4
    [1, 5, 4, [1, 2, '...', 5]],
    [2, 5, 4, [1, 2, '...', 5]],
    [3, 5, 4, ['...', 3, 4, 5]],
    [4, 5, 4, ['...', 3, 4, 5]],
    // 6, 4
    [1, 6, 4, [1, 2, '...', 6]],
    [2, 6, 4, [1, 2, '...', 6]],
    [3, 6, 4, ['...', 3, '...', 6]],
    [4, 6, 4, ['...', 4, 5, 6]],
    // 8, 5
    [1, 8, 5, [1, 2, '...', 7, 8]],
    [2, 8, 5, [1, 2, 3, '...', 8]],
    [3, 8, 5, [1, 2, 3, 4, '...']],
    [4, 8, 5, ['...', 3, 4, 5, '...']],
    [5, 8, 5, ['...', 4, 5, 6, '...']],
    [6, 8, 5, ['...', 5, 6, 7, 8]],
    [7, 8, 5, [1, '...', 6, 7, 8]],
    [8, 8, 5, [1, 2, '...', 7, 8]],
    // 8, 4
    // [1, 8, 4, [1, 2, '...', 8]],
    // [2, 8, 4, [1, 2, 3, '...']],
    // [3, 8, 4, [1, 2, 3, '...']],
    // [4, 8, 4, ['...', 3, 4, 5, '...']],
    // [5, 8, 4, ['...', 4, 5, 6, '...']],
    // [6, 8, 4, ['...', 5, 6, 7, 8]],
    // [7, 8, 4, [1, '...', 6, 7, 8]],
    // [8, 8, 4, [1, 2, '...', 7, 8]],
  ])('page: %s, length: %s, visible: %s', (page, length, visible, expected) => {
    expect(getRange(1, page, length, visible, '...')).toEqual(expected)
  })
})
